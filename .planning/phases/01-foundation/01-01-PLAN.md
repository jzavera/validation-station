---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - tsconfig.json
  - tsconfig.app.json
  - tsconfig.node.json
  - vite.config.ts
  - index.html
  - src/vite-env.d.ts
  - src/index.css
  - src/types/extraction.ts
  - src/data/sampleData.ts
autonomous: true

must_haves:
  truths:
    - "npm run dev starts the app with no errors and Tailwind CSS styles are applied"
    - "TypeScript types for ExtractionResult, Field, BoundingBox, and TokenBox compile cleanly with all properties defined"
    - "Sample data represents a realistic multi-group invoice with fields at varying confidence levels"
  artifacts:
    - path: "src/types/extraction.ts"
      provides: "All TypeScript interfaces for the extraction data model"
      exports: ["ExtractionResult", "DocumentMeta", "PageDimension", "FieldGroup", "Field", "ValidationSource", "BoundingBox", "TokenBox"]
    - path: "src/data/sampleData.ts"
      provides: "Realistic multi-group invoice sample data"
      exports: ["sampleExtractionResult"]
    - path: "vite.config.ts"
      provides: "Vite configuration with Tailwind CSS v4 plugin and React"
      contains: "@tailwindcss/vite"
    - path: "src/index.css"
      provides: "Tailwind CSS v4 entry point"
      contains: "@import \"tailwindcss\""
  key_links:
    - from: "src/data/sampleData.ts"
      to: "src/types/extraction.ts"
      via: "typed import"
      pattern: "import.*ExtractionResult.*from.*types/extraction"
---

<objective>
Scaffold the Vite + React 19 + TypeScript project with Tailwind CSS v4, define the complete extraction data model as TypeScript types, and create realistic sample data for a multi-group invoice.

Purpose: Establish the project foundation that every downstream phase builds on -- the runnable app, the shared type system, and sample data for development.
Output: A running Vite dev server, complete TypeScript interfaces (ExtractionResult, Field, BoundingBox, TokenBox, etc.), and a sampleExtractionResult constant with realistic invoice extraction data.
</objective>

<execution_context>
@/Users/bogdanzavera/.claude/get-shit-done/workflows/execute-plan.md
@/Users/bogdanzavera/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Vite + React 19 + TypeScript project with Tailwind CSS v4</name>
  <files>
    package.json
    tsconfig.json
    tsconfig.app.json
    tsconfig.node.json
    vite.config.ts
    index.html
    src/vite-env.d.ts
    src/index.css
    src/main.tsx
    src/App.tsx
  </files>
  <action>
    1. Initialize the project using Vite's React + TypeScript template:
       `npm create vite@latest . -- --template react-ts`
       If the directory is not empty, handle accordingly (the .planning and .git dirs exist).

    2. Install production dependencies:
       `npm install react-pdf clsx`

    3. Install dev dependencies for Tailwind CSS v4:
       `npm install -D @tailwindcss/vite`

    4. Configure vite.config.ts with both the React plugin and the Tailwind CSS v4 plugin:
       ```typescript
       import { defineConfig } from 'vite'
       import react from '@vitejs/plugin-react'
       import tailwindcss from '@tailwindcss/vite'

       export default defineConfig({
         plugins: [
           react(),
           tailwindcss(),
         ],
       })
       ```

    5. Replace src/index.css content with the Tailwind v4 import:
       ```css
       @import "tailwindcss";
       ```
       Remove src/App.css if it exists (we use Tailwind utility classes, not component CSS files).

    6. Set up a minimal src/App.tsx that renders a Tailwind-styled heading to prove the pipeline works:
       ```tsx
       function App() {
         return (
           <div className="min-h-screen bg-gray-50 flex items-center justify-center">
             <h1 className="text-2xl font-bold text-gray-900">Validation Station</h1>
           </div>
         )
       }
       export default App
       ```

    7. Ensure src/main.tsx imports index.css and renders App into the root div.

    8. Configure react-pdf worker for later use. In src/main.tsx, add:
       ```typescript
       import { pdfjs } from 'react-pdf';
       pdfjs.GlobalWorkerOptions.workerSrc = new URL(
         'pdfjs-dist/build/pdf.worker.min.mjs',
         import.meta.url
       ).toString();
       ```

    9. Clean up Vite template boilerplate: remove any default SVG assets, App.css, and the default counter code.

    IMPORTANT: Use Tailwind CSS v4 with the @tailwindcss/vite plugin (NOT the PostCSS-based v3 approach). v4 does NOT use a tailwind.config.js file -- configuration is done via CSS if needed.
  </action>
  <verify>
    Run `npm run dev` and confirm the dev server starts without errors.
    Run `npx tsc --noEmit` and confirm zero TypeScript errors.
    Verify the Tailwind classes render correctly (the heading should have bold text, gray background should be visible).
  </verify>
  <done>
    Vite dev server starts cleanly on `npm run dev`. TypeScript compiles with zero errors. Tailwind CSS v4 classes (bg-gray-50, text-2xl, font-bold) are applied and visible in the browser. react-pdf worker is configured in main.tsx.
  </done>
</task>

<task type="auto">
  <name>Task 2: Define TypeScript extraction data model and create sample invoice data</name>
  <files>
    src/types/extraction.ts
    src/data/sampleData.ts
  </files>
  <action>
    1. Create src/types/extraction.ts with ALL interfaces exactly as designed:

       ```typescript
       export interface ExtractionResult {
         documentId: string;
         document: DocumentMeta;
         fieldGroups: FieldGroup[];
       }

       export interface DocumentMeta {
         type: "pdf" | "image";
         sourceUrl: string;
         pageCount: number;
         pages: PageDimension[];
       }

       export interface PageDimension {
         pageNumber: number;
         width: number;
         height: number;
       }

       export interface FieldGroup {
         id: string;
         label: string;
         fields: Field[];
       }

       export interface Field {
         id: string;
         label: string;
         extractedValue: string;
         confidence: number;
         ocrConfidence: number;
         operatorConfirmed: boolean;
         isMissing: boolean;
         dataVersion: number;
         validationSource: ValidationSource;
         boundingBox: BoundingBox;
         tokens: TokenBox[];
       }

       export type ValidationSource = "none" | "ai_score" | "user" | "data_matching";

       export interface BoundingBox {
         pageNumber: number;
         x: number;
         y: number;
         width: number;
         height: number;
       }

       export interface TokenBox {
         text: string;
         boundingBox: BoundingBox;
       }
       ```

    2. Create src/data/sampleData.ts with a realistic multi-group invoice extraction. Requirements:
       - documentId: a UUID-like string
       - document: type "image" (simplest for Phase 1, no PDF rendering yet), sourceUrl pointing to a placeholder, pageCount 1, one PageDimension entry (pageNumber 1, width 2480, height 3508 -- A4 at 300dpi)
       - At least 3 field groups: "Invoice Details", "Vendor Information", "Line Items Summary" (or similar)
       - At least 12 fields total across all groups
       - Confidence levels MUST vary: include at least 2 fields with confidence < 0.7 (red), at least 3 fields with confidence 0.7-0.9 (yellow), at least 3 fields with confidence >= 0.9 (green)
       - Include 1 field with operatorConfirmed: true to test the confirmed display
       - Include 1 field with isMissing: true to test the missing display
       - All bounding boxes use normalized 0-1 coordinates (e.g., x: 0.55, y: 0.12, width: 0.25, height: 0.02)
       - Each field should have 1-3 tokens with their own bounding boxes (sub-regions of the field's bounding box)
       - Use realistic invoice values: invoice number, date, vendor name, address, amounts, tax, total, etc.
       - Export as: `export const sampleExtractionResult: ExtractionResult = { ... }`

    3. Ensure the sample data file imports ExtractionResult from the types file (typed import, not using `any`).

    IMPORTANT: All bounding box coordinates must be normalized 0-1 per the project's locked decision (DATA-03). Do NOT use pixel coordinates.
  </action>
  <verify>
    Run `npx tsc --noEmit` -- zero errors confirms all types are correct and sample data conforms to the interfaces.
    Visually inspect src/data/sampleData.ts to confirm: at least 3 field groups, at least 12 fields, varying confidence levels (red/yellow/green range), one confirmed field, one missing field, all bounding boxes in 0-1 range.
  </verify>
  <done>
    src/types/extraction.ts exports all 8 interfaces/types (ExtractionResult, DocumentMeta, PageDimension, FieldGroup, Field, ValidationSource, BoundingBox, TokenBox). src/data/sampleData.ts exports sampleExtractionResult with 3+ field groups, 12+ fields, confidence values spanning red/yellow/green ranges, one operatorConfirmed field, one isMissing field, and all bounding boxes normalized 0-1. TypeScript compiles cleanly.
  </done>
</task>

</tasks>

<verification>
1. `npm run dev` starts without errors
2. `npx tsc --noEmit` passes with zero errors
3. Browser shows Tailwind-styled "Validation Station" heading
4. src/types/extraction.ts contains all 8 type exports
5. src/data/sampleData.ts has 3+ field groups, 12+ fields, varying confidence levels, normalized bounding boxes
</verification>

<success_criteria>
- The Vite dev server runs and serves a page with applied Tailwind CSS styles
- All TypeScript interfaces match the designed data model exactly (all properties, correct types)
- Sample data is realistic, comprehensive, and type-safe (no `any`, no `as` casts)
- react-pdf worker is configured for future use
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
