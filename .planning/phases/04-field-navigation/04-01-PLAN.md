# Plan 04-01: Field Navigation

**Phase:** 04-field-navigation
**Started:** 2026-02-18
**Status:** In Progress
**Requirements:** NAV-01, NAV-02, NAV-03, NAV-04

## Goal

Enable keyboard and mouse navigation between fields: Tab advances to the next unconfirmed field, Shift+Tab goes to the previous field, clicking a row selects it, and the panel auto-scrolls to keep the active field visible.

## Tasks

<task id="1" status="pending">
Update `NEXT_FIELD` case in `src/context/validationReducer.ts` to skip fields where `operatorConfirmed === true`. If all remaining fields after current are confirmed, stay on the current field.
</task>

<task id="2" status="pending">
Create `src/hooks/useKeyboardNavigation.ts` hook that listens for `keydown` on `window`: Tab dispatches `NEXT_FIELD`, Shift+Tab dispatches `PREV_FIELD`. Must `e.preventDefault()` on Tab to prevent browser default. Skip interception when `state.isEditing` is true. Clean up listener on unmount.
</task>

<task id="3" status="pending">
Update `src/components/FieldRow.tsx` to add a ref and `useEffect` that calls `scrollIntoView({ behavior: 'smooth', block: 'nearest' })` when `isActive` becomes true.
</task>

<task id="4" status="pending">
Wire `useKeyboardNavigation` hook into `src/App.tsx` AppContent component.
</task>

<task id="5" status="pending">
Verify `npx tsc --noEmit` and `npm run build` both pass with no errors.
</task>

## Acceptance Criteria

1. Tab advances focus to the next unconfirmed field, skipping confirmed fields
2. Shift+Tab moves focus to the previous field (regardless of confirmed status)
3. Clicking a field row sets it as active (already working from Phase 3)
4. Active field auto-scrolls into view in the field panel
